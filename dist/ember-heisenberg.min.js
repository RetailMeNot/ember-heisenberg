/*! ember-heisenberg 2014-07-10 */
!function(){define("EH",["ember"],function(a){var b=a.Namespace.create({});return a.assert(void 0===a.exports.EH,"An export already exists for EH.*"),a.exports.EH=b,b}),define("AjaxRequest",["ember","./EH"],function(a,b){return b.AjaxRequest=a.Object.extend({_url:null,_settings:null,responseObjectType:null,responseIsList:!1,responseIsSingletonList:!1,init:function(){this._super(),this.set("_settings",{}),this.consumesJson(),this.producesJson()},execute:function(){return b.AjaxRequest.execute(this.get("_url"),this.get("_settings"))},processTokens:function(b,c,d){var e=b;for(var f in c)if(c.hasOwnProperty(f)){var g=c[f];a.isNone(d)||"function"!==a.typeOf(d)||(g=d(g));var h=new RegExp("{"+f+"}","g");e=e.replace(h,g)}return e},url:function(a,b){var c=this.processTokens(a,b,encodeURIComponent);return this.set("_url",c),this},useGlobalErrorHandler:function(a){var b=this.get("_settings");return b.global=a,this},disableGlobalErrorHandler:function(){return this.useGlobalErrorHandler(!1)},queryParams:function(c){if(!a.isNone(c)){var d="?",e=[],f=function(a){e.push(g+"="+encodeURIComponent(a))};for(var g in c)if(c.hasOwnProperty(g)){var h=c[g];if(void 0!==h)if(a.isArray(h))h.forEach(f);else{var i;i=h===b.AjaxRequest.QUERY_PARAM_EMPTY_VALUE?g:g+"="+encodeURIComponent(h),e.push(i)}}d+=e.join("&");var j=this.get("_url");this.set("_url",j+d)}return this},consumesJson:function(){return this.set("_settings.contentType","application/json; charset=utf-8"),this},consumesFormData:function(){return this.set("_settings.contentType","application/x-www-form-urlencoded; charset=utf-8"),this},producesJson:function(){var a=this.get("_settings");return a.dataType="json",a.headers={Accept:"application/json"},this},producesCsv:function(){var a=this.get("_settings");return a.dataType="text",a.headers={Accept:"text/csv"},this},producesNullable:function(a){return this.set("producesNullable",0===arguments.length||a===!0),this},producesBoolean:function(){return this.set("responseObjectType",b.SerializableType.Boolean),this},producesDate:function(){return this.set("responseObjectType",b.SerializableType.Date),this},producesRaw:function(){return this.set("responseObjectType",b.SerializableType.Raw),this},producesString:function(){return this.set("responseObjectType",b.SerializableType.String),this},produces:function(a){return this.set("responseObjectType",a),this},producesListOf:function(a){return this.produces(a).set("responseIsList",!0),this},producesSingletonListOf:function(a){return this.produces(a).set("responseIsSingletonList",!0),this}}),b.AjaxRequest.reopenClass({QUERY_PARAM_EMPTY_VALUE:{},execute:function(b,c){return new a.RSVP.Promise(function(d,e){var f=c||{};return f.success=function(b){a.run(null,d,b)},f.error=function(b){a.run(null,e,b)},a.$.ajax(b,f)})}}),b.AjaxRequest}),define("DeleteRequest",["ember","./EH","./AjaxRequest"],function(a,b,c){return b.DeleteRequest=c.extend({init:function(){this._super(),this.set("_settings.type","DELETE")}}),b.DeleteRequest}),define("GetRequest",["ember","./EH","./AjaxRequest"],function(a,b,c){return b.GetRequest=c.extend({init:function(){this._super(),this.set("_settings.type","GET")}}),b.GetRequest}),define("PostRequest",["ember","./EH","./AjaxRequest"],function(a,b,c){return b.PostRequest=c.extend({init:function(){this._super(),this.set("_settings.type","POST")},body:function(b){var c=this.get("_settings.contentType");return c.match(/json/)&&a.typeOf(b)!==a.typeOf("string")&&(b=JSON.stringify(b)),this.set("_settings.data",b),this}}),b.PostRequest}),define("PutRequest",["ember","./EH","./AjaxRequest"],function(a,b,c){return b.PutRequest=c.extend({init:function(){this._super(),this.set("_settings.type","PUT")},body:function(b){var c=this.get("_settings.contentType");return c.match(/json/)&&a.typeOf(b)!==a.typeOf("string")&&(b=JSON.stringify(b)),this.set("_settings.data",b),this}}),b.PutRequest}),define("ObjectState",["ember","./EH"],function(a,b){return b.ObjectState=a.Object.extend({isLoading:function(){return!this.get("isLoaded")&&!this.get("isError")}.property("isLoaded","isError"),isError:!1,isLoaded:!1,isNew:!0,isDirty:function(){return this.get("_isDirty")||!a.isNone(this.get("_childObjectStates").findProperty("isDirty",!0))}.property("_isDirty","_childObjectStates.@each.isDirty"),_isDirty:!1,_childObjectStates:null,init:function(){this._super.apply(this,arguments),this.set("_childObjectStates",[])}}),b.ObjectState}),define("StoresLocalDataMixin",["ember","./EH"],function(a,b){return b.StoresLocalDataMixin=a.Mixin.create({_localData:function(b){var c="__"+a.guidFor(b)+"_localData";return b[c]||(b[c]={})}}),b.StoresLocalDataMixin}),define("SerializableArray",["ember","./EH","./ObjectState","./StoresLocalDataMixin"],function(a,b,c,d){return b.SerializableArray=a.ArrayProxy.extend(a.Copyable,a.SortableMixin,d,{objectState:null,toObject:function(a){return this.serialize(a)},toJson:function(){return JSON.stringify(this.toObject())},toWrappedJson:function(){var b=this.toObject(),c=this.get("type").rootKey;if(a.isNone(c))return JSON.stringify(b);var d={};return d[c]=b,JSON.stringify(d)},copy:function(){return this.deserialize(this.toObject({includeTransient:!0}))},init:function(){this._super.apply(this,arguments),this.set("objectState",c.create({})),this.set("content",[])},indexOf:function(b,c){var d,e=a.get(this,"length");for(void 0===c&&(c=0),0>c&&(c+=e),d=c;e>d;d++)if(a.isEqual(b,this.objectAt(d)))return d;return-1},isEqual:function(b){if(a.isNone(b))return!1;var c=a.get(this,"length"),d=a.get(b,"length");return c!==d?!1:this.every(function(c,d){return a.isEqual(c,b.objectAt(d))})},type:function(b,c){var d=this._localData(this);if(arguments.length>1){if(!a.isNone(d.type))throw new TypeError("Cannot change already-specified type of "+d.type.toString()+" for "+this.constructor.toString());d.type=c}return d.type}.property().volatile(),_deserializer:function(){var b=this.get("type");if("function"!==a.typeOf(b.deserialize))throw new TypeError("Could not find a deserializer for type "+b.constructor);return b.deserialize.bind(b)}.property("type"),deserialize:function(b){var c=this.get("_deserializer"),d=this.get("type"),e=this.get("objectState._childObjectStates");if(a.beginPropertyChanges(),a.isNone(b))this.clear();else{var f=b.map(function(b){var f=[b];if(a.Object.detect(d)){var g=d.create({});f.push(g),e.push(g.get("objectState"))}return c.apply(this,f)});this.clear().pushObjects(f)}return this.set("objectState.isLoaded",!0),a.endPropertyChanges(),this.addObserver("content.@each",this,"_setObjectStateToDirty"),this},_setObjectStateToDirty:function(){this.set("objectState._isDirty",!0),this.removeObserver("content.@each",this,"_setObjectStateToDirty")},_serializer:function(){var b=this.get("type");if(a.isNone(b))throw new TypeError("Unspecified type for array instance "+this);if("function"!==a.typeOf(b.serialize))throw new TypeError("Could not find a serializer for type "+b.constructor);return b.serialize.bind(b)}.property("type"),serialize:function(a,b){{var c=this.get("_serializer");this.get("type")}return this.map(function(a){return c(a,b)})}}),b.Array=b.SerializableArray,b.SerializableArray}),define("SerializableType",["ember","moment","./EH"],function(a,b,c){return c.SerializableType={Boolean:{serialize:function(b){return a.isNone(b)?void 0:b},deserialize:function(b){if(a.isNone(b))return null;var c=typeof b;return"boolean"===c?b:"string"===c?null!==b.match(/^true$|^yes$|^y$|^t$|^1$/i):"number"===c?1===b:!1}},Date:{serialize:function(c){return a.isNone(c)?void 0:b(c).format()},deserialize:function(c){return a.isNone(c)?null:b(c).toDate()}},Number:{serialize:function(b){return a.isEmpty(b)?void 0:b},deserialize:function(b){return a.isEmpty(b)?null:Number(b)}},Raw:{serialize:function(a){return a},deserialize:function(a){return a}},String:{serialize:function(b){return a.isNone(b)?void 0:b},deserialize:function(b){return a.isNone(b)?null:String(b)}}},c.Type=c.SerializableType,c.SerializableType}),define("SerializableObject",["ember","./EH","./ObjectState","./StoresLocalDataMixin","./SerializableArray","./SerializableType"],function(a,b,c,d,e,f){b.SerializableObject=a.Object.extend(a.Copyable,{toObject:function(a){return this.constructor.toObject(this.constructor,this,a)},toJson:function(){return this.constructor.toJson(this.constructor,this)},toWrappedJson:function(){return this.constructor.toWrappedJson(this.constructor,this)},objectState:null,copy:function(){var a=this.constructor.create({});return b.SerializableObject.fromJson(this.toObject({includeTransient:!0}),this.constructor,a)},init:function(){this._super.apply(this,arguments),this.set("objectState",c.create({})),b.SerializableObject._eachFieldOf(this.constructor,function(b,c){if(c.isList===!0&&a.isNone(this.get(b))){var d=e.create().setProperties({type:c.type});this.set(b,d),this.get("objectState._childObjectStates").pushObject(d.get("objectState"))}}.bind(this))}}),b.SerializableObject.reopenClass(d,{rootKey:null,unwrapRootObject:function(b,c){return a.isNone(b.rootKey)?c:c[b.rootKey]},wrapRootObject:function(b,c){if(a.isNone(b.rootKey))return c;var d={};return d[b.rootKey]=c,d},_eachFieldOf:function(a,b){a.eachComputedProperty(function(a,c){c.isSerializableField===!0&&b(a,c)})},_fromJsonInternal:function(c,d,f){return b.SerializableObject._eachFieldOf(d,function(d,g){var h,i=c[d];if(g.isList===!0)h=e.create({}).setProperties({type:g.type}),h=h.deserialize(i),f.get("objectState._childObjectStates").pushObject(h.get("objectState"));else if(b.SerializableObject.detect(g.type))if(a.isNone(i))h=null;else{var j=g.type.create({});h=g.type.deserialize(i,j),h.set("objectState.isNew",!1),f.get("objectState._childObjectStates").pushObject(h.get("objectState"))}else h=g.type.deserialize(i);f.set(d,h)}),f},fromJson:function(c,d,e){return a.beginPropertyChanges(),e=b.SerializableObject._fromJsonInternal(c,d,e),e.set("objectState.isLoaded",!0),a.endPropertyChanges(),e},deserialize:function(a,c){return b.SerializableObject.fromJson(a,this,c)},_toObjectInternal:function(c,d,e){a.isEmpty(e)&&(e={});var f={};return b.SerializableObject._eachFieldOf(c,function(b,c){var g=a.get(d,b);if(a.isNone(g));else if(c.isTransient===!0&&e.includeTransient!==!0);else if(c.isList===!0)f[b]=g.serialize(g,e);else{if("function"!==a.typeOf(c.type.serialize))throw new TypeError("Could not find a serializer for type "+c.type.constructor);f[b]=c.type.serialize(g,e)}}),f},toObject:function(a,c,d){return b.SerializableObject._toObjectInternal(a,c,d)},serialize:function(a,c){return b.SerializableObject.toObject(this,a,c)},toJson:function(a,c){var d=b.SerializableObject.toObject(a,c);return JSON.stringify(d)},toWrappedJson:function(a,c){var d=b.SerializableObject.toObject(a,c),e=b.SerializableObject.wrapRootObject(a,d);return JSON.stringify(e)},_updateDirtyState:function(b,c,d){return d.get("objectState.isLoaded")!==!0||a.isEqual(d.get(b),c)?!1:(d.set("objectState._isDirty",!0),!0)},_serializableObjectSetter:function(c){if(!b.SerializableObject.detect(c))throw new TypeError("Object type '"+c+"' is not a SerializableObject");return function(d,e){if(!a.isNone(e)&&!c.detectInstance(e))throw new TypeError("Object for property '"+d+"' cannot be set to '"+e+"', expected type '"+c+"' instead");return b.SerializableObject._updateDirtyState(d,e,this),e}},_listSetter:function(c){return function(d,f){if(!a.Enumerable.detect(f))throw new TypeError("Object for property '"+d+"' cannot be set to '"+f+"', expected an Ember.Enumerable object instead");return e.detectInstance(f)||(a.beginPropertyChanges(),f=e.create().setProperties({type:c}).pushObjects(f),b.SerializableObject._updateDirtyState(d,f,this),a.endPropertyChanges()),f}},_deserializingSetter:function(a,c){var d=this.constructor.metaForProperty(a),e=d.type.deserialize(c);return b.SerializableObject._updateDirtyState(a,e,this),e},_field:function(a,c){var d,e=c.isList,f=c.transient===!0;return d=e===!0?b.SerializableObject._listSetter(a):b.SerializableObject.detect(a)?b.SerializableObject._serializableObjectSetter(a):b.SerializableObject._deserializingSetter,function(a){var c=b.SerializableObject._localData(this);return arguments.length>1&&(c[a]=d.apply(this,arguments)),c[a]}.property().volatile().meta({isSerializableField:!0,isTransient:f,type:a,isList:e})},field:function(a,c){return c=c||{},c.isList=!1,b.SerializableObject._field(a,c)},list:function(a,c){return c=c||{},c.isList=!0,b.SerializableObject._field(a,c)},booleanField:function(a){return b.SerializableObject.field(f.Boolean,a)},booleanList:function(a){return b.SerializableObject.list(f.Boolean,a)},dateField:function(a){return b.SerializableObject.field(f.Date,a)},dateList:function(a){return b.SerializableObject.list(f.Date,a)},numberField:function(a){return b.SerializableObject.field(f.Number,a)},numberList:function(a){return b.SerializableObject.list(f.Number,a)},rawField:function(a){return b.SerializableObject.field(f.Raw,a)},rawList:function(a){return b.SerializableObject.list(f.Raw,a)},stringField:function(a){return b.SerializableObject.field(f.String,a)},stringList:function(a){return b.SerializableObject.list(f.String,a)}});return b.Object=b.SerializableObject,b.field=b.SerializableObject.field,b.list=b.SerializableObject.list,b.booleanField=b.SerializableObject.booleanField,b.dateField=b.SerializableObject.dateField,b.numberField=b.SerializableObject.numberField,b.rawField=b.SerializableObject.rawField,b.stringField=b.SerializableObject.stringField,b.booleanList=b.SerializableObject.booleanList,b.dateList=b.SerializableObject.dateList,b.numberList=b.SerializableObject.numberList,b.rawList=b.SerializableObject.rawList,b.stringList=b.SerializableObject.stringList,b.SerializableObject}),define("Resource",["ember","./EH","./SerializableArray","./SerializableObject","./GetRequest","./DeleteRequest","./PostRequest","./PutRequest"],function(a,b,c,d,e,f,g,h){return b.Resource=a.Object.extend({}),b.Resource.reopenClass({_METHOD_TO_REQUEST_CLASS:{DELETE:f,GET:e,POST:g,PUT:h},method:function(b){var c=this._METHOD_TO_REQUEST_CLASS[b];if(a.isNone(c))throw new Error('Cannot create a request with method "'+b+'"');return c.create()},executeRequest:function(d){function e(b,c){return b.set("objectState.isError",!0),a.RSVP.reject(c)}var f,g,h,i=a.get(d,"responseObjectType"),j=a.get(d,"responseObjectType");switch(j){case b.SerializableType.Boolean:case b.SerializableType.Date:case b.SerializableType.Raw:case b.SerializableType.String:h=!0;break;default:h=!1}h?(f=b.SerializableObject.create(),g=b.Resource.deserializePrimitive(j.deserialize)):a.get(d,"responseIsList")===!0?(f=c.create().setProperties({type:i}),g=b.Resource.deserializeIntoListOf):a.get(d,"responseIsSingletonList")===!0?(f=i.create({}),g=b.Resource.deserializeIntoSingletonListOf):(f=i.create({}),f.set("objectState.isNew",!1),g=b.Resource.deserializeInto);var k;k=a.get(d,"producesNullable")===!0?b.Resource.resolveUnconditionally:b.Resource.rejectNull;var l;l=h===!0?b.Resource.resolveUnconditionally:b.Resource.unwrapRoot(i);var m=function(b){var c=new Error;return c.status=b.status,404===b.status?(c.responseText=b.responseText,c.responseTitle=b.statusText+" ("+b.status+")",a.RSVP.reject(c)):(c.responseText=b.stack,c.responseTitle=b.toString(),a.RSVP.reject(c))},n=d.execute().then(k).then(l).then(g(f)).catch(m).catch(e.bind(this,f));return this.createResponseObject(f,n)},resolveUnconditionally:function(b){return a.RSVP.resolve(b)},rejectNull:function(b){return a.isNone(b)?a.RSVP.reject(new Error("Response must not be null.")):a.RSVP.resolve(b)},unwrapRoot:function(b){return function(c){if(a.isNone(c))return a.RSVP.resolve(null);var e=d.unwrapRootObject(b,c);return a.RSVP.resolve(e)}},createResponseObject:function(b,c){return a.isNone(c)&&(c=a.RSVP.resolve(b)),{getResponseValue:function(){return b},getResponsePromise:function(){return c}}},deserializePrimitive:function(b){return function(c){return function(d){return a.isNone(d)?a.RSVP.resolve(null):(c.set("value",b(d)),a.RSVP.resolve(c))}}},deserializeInto:function(b){return function(c){return a.isNone(c)?(b.set("objectState.isLoaded",!0),a.RSVP.resolve(null)):(d.fromJson(c,b.constructor,b),a.RSVP.resolve(b))}},deserializeIntoListOf:function(b){return function(c){return a.isNone(c)?(b.set("objectState.isLoaded",!0),a.RSVP.resolve(null)):(b.deserialize(c),a.RSVP.resolve(b))}},deserializeIntoSingletonListOf:function(b){return function(c){return a.isEmpty(c)?(b.set("objectState.isLoaded",!0),a.RSVP.resolve(null)):(d.fromJson(c[0],b.constructor,b),a.RSVP.resolve(b))}}}),b.Resource}),define("ember-heisenberg",["./EH","./AjaxRequest","./DeleteRequest","./GetRequest","./PostRequest","./PutRequest","./Resource","./SerializableObject"],function(a){return a})}();